<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
  	<meta charset="utf-8">
  	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  	<title>Interface ICovariantTypeIndex
   | Rezolver IOC </title>
  	<meta name="viewport" content="width=device-width">
  	<meta name="title" content="Interface ICovariantTypeIndex
   | Rezolver IOC ">
  	<meta name="generator" content="docfx 2.36.2.0">
  	<meta name="description" content="Rezolver is the portable open-source IOC container framework for .Net - built from the ground up for .Net Core, Asp.Net Core, and also optimised for the 'full .Net' :)">
  	<link rel="shortcut icon" href="../favicon.ico">
  	<link rel="stylesheet" href="../styles/docfx.vendor.css">
  	<link rel="stylesheet" href="../styles/docfx.css">
  	<link rel="stylesheet" href="../styles/main.css">
  	<meta property="docfx:navrel" content="../toc.html">
  	<meta property="docfx:tocrel" content="toc.html">
  	
  	<meta property="docfx:rel" content="../">
  	
  		<link rel="apple-touch-icon" sizes="57x57" href="../../apple-touch-icon-57x57.png">
  		<link rel="apple-touch-icon" sizes="60x60" href="../../apple-touch-icon-60x60.png">
  		<link rel="apple-touch-icon" sizes="72x72" href="../../apple-touch-icon-72x72.png">
  		<link rel="apple-touch-icon" sizes="76x76" href="../../apple-touch-icon-76x76.png">
  		<link rel="apple-touch-icon" sizes="114x114" href="../../apple-touch-icon-114x114.png">
  		<link rel="apple-touch-icon" sizes="120x120" href="../../apple-touch-icon-120x120.png">
  		<link rel="apple-touch-icon" sizes="144x144" href="../../apple-touch-icon-144x144.png">
  		<link rel="apple-touch-icon" sizes="152x152" href="../../apple-touch-icon-152x152.png">
  		<link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon-180x180.png">
  		<link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32">
  		<link rel="icon" type="image/png" href="../../android-chrome-192x192.png" sizes="192x192">
  		<link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96">
  		<link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16">
  		<link rel="manifest" href="../../manifest.json">
  		<link rel="mask-icon" href="../../safari-pinned-tab.svg" color="#5bbad5">
  		<meta name="msapplication-TileColor" content="#da532c">
  		<meta name="msapplication-TileImage" content="../../mstile-144x144.png">
  		<meta name="theme-color" content="#ffffff">
  	<script>
  	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  	
  	  ga('create', 'UA-92764222-1', 'auto');
  	  ga('send', 'pageview');
  	
  	</script></head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../../content/rz_square_white_on_orange_48x48.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
        		<p class="navbar-text navbar-right github-link"><a href="http://github.com/ZolutionSoftware/Rezolver" target="_blank" title="See this project on Github"><span class="fa fa-github"></span></a></p>
        		<form class="navbar-form navbar-right" role="search" id="search">
        		<div class="form-group">
        			<input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
        		</div>
        		</form>
        		<p class="navbar-text navbar-right">
        			<a href="https://www.nuget.org/packages/Rezolver" target="_blank"><img src="//img.shields.io/nuget/v/Rezolver.svg?style=plastic&amp;maxage=480" title="Get the Nuget Package"></a>
        			<a href="http://waffle.io/ZolutionSoftware/Rezolver" title="Open the Waffleboard for this project" target="_blank"><img alt="Work in Progress" src="https://badge.waffle.io/ZolutionSoftware/Rezolver.png?label=in%20progress&title=In%20Progress"></a>
        			<!-- <a href="http://waffle.io/ZolutionSoftware/Rezolver" title="Open the Waffleboard for this project" target="_blank"><img alt="Work prepared" src="https://badge.waffle.io/ZolutionSoftware/Rezolver.png?label=ready&title=Ready"></img></a> -->
        		</p>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Rezolver.ICovariantTypeIndex">
  
  
  <h1 id="Rezolver_ICovariantTypeIndex" data-uid="Rezolver.ICovariantTypeIndex" class="text-break">Interface ICovariantTypeIndex
  </h1>
  <div class="markdown level0 summary"><p>For any type <code>T</code>, there exists a list of zero or more other types with which
it is compatible when covariance is supported.  This index provides the mechanism
by which Rezolver can perform this reverse lookup.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Rezolver.html">Rezolver</a></h6>
  <h6><strong>Assembly</strong>: Rezolver.dll</h6>
  <h5 id="Rezolver_ICovariantTypeIndex_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface ICovariantTypeIndex</code></pre>
  </div>
  <h5 id="Rezolver_ICovariantTypeIndex_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>In an IOC container, contravariance is signficantly easier to support since the only knowledge
required is the type you want to retrieve - e.g. Action&lt;Derived&gt;.  To build a list of all
the generic versions of Action&lt;&gt; which will be assignment-compatible to that type simply
requires walking &apos;up&apos; the type hierarchy of <code>Derived</code>.</p>
<p>Covariance, on the other hand, is the opposite problem.  The caller requests a concrete generic
type - e.g. Func&lt;Base&gt; - where one or more of the arguments is passed to a covariant type
parameter.  In this case, there is a theoretically infinite set of types which might be assignment
compatible to <code>Base</code>, so how do you determine which versions of Func&lt;&gt; to search for if there
is no registration for the exact type?</p>
<p>One way would be iterate all the registrations and filter out only those which are compatible, however
this would take up quite a lot of time.  Rezolver, instead, uses this index, into which you add concrete
types that you <em>know</em> have got at least one registered <a class="xref" href="Rezolver.ITarget.html">ITarget</a>.  Later, when a generic type is
sought, you can call that type up from this index, and it&apos;ll return a list of all the known types that have
been added which are assignment compatible to that type by virtue of covariance.</p>
<p>This index provides two lookups based on types that are registered: pure covariant-compatible types (e.g.
IEnumerable&lt;Derived&gt; can be assigned to a reference of type IEnumerable&lt;Base&gt;) and
assignment-compatible types (e.g IEnumerable&lt;Base&gt; can be assigned to a reference of type <code>IEnumerable</code>.</p>
<p>When searching for a generic type that matches one in-hand - the covariant compatibility lookup is the one you
need.  If you are conducting a search for a generic type which has a covariant type parameter (e.g. such as
IEnumerable&lt;&gt; then you want the full assignment-compatibility lookup which does covariance as well as
base/interface compatibility.</p>
</div>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/ZolutionSoftware/Rezolver/new/netcore21/apiSpec/new?filename=Rezolver_ICovariantTypeIndex_AddKnownType_System_Type_.md&amp;value=---%0Auid%3A%20Rezolver.ICovariantTypeIndex.AddKnownType(System.Type)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/ZolutionSoftware/Rezolver/blob/netcore21/src/Rezolver/ITypeIndex.cs/#L51">View Source</a>
  </span>
  <a id="Rezolver_ICovariantTypeIndex_AddKnownType_" data-uid="Rezolver.ICovariantTypeIndex.AddKnownType*"></a>
  <h4 id="Rezolver_ICovariantTypeIndex_AddKnownType_System_Type_" data-uid="Rezolver.ICovariantTypeIndex.AddKnownType(System.Type)">AddKnownType(Type)</h4>
  <div class="markdown level1 summary"><p>Called to add a new known service type to the index which is then mapped back to all the types with which it
is assignment compatible via covariance and via base class or interface inheritance.</p>
<p>The <a class="xref" href="Rezolver.ICovariantTypeIndex.html#Rezolver_ICovariantTypeIndex_GetKnownCovariantTypes_System_Type_">GetKnownCovariantTypes(Type)</a> will then return the <code data-dev-comment-type="paramref" class="paramref">serviceType</code>
when called with one of these compatible types.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void AddKnownType(Type serviceType)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.type">Type</a></td>
        <td><span class="parametername">serviceType</span></td>
        <td><p>The type to be added to the index.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/ZolutionSoftware/Rezolver/new/netcore21/apiSpec/new?filename=Rezolver_ICovariantTypeIndex_GetKnownCompatibleTypes_System_Type_.md&amp;value=---%0Auid%3A%20Rezolver.ICovariantTypeIndex.GetKnownCompatibleTypes(System.Type)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/ZolutionSoftware/Rezolver/blob/netcore21/src/Rezolver/ITypeIndex.cs/#L78">View Source</a>
  </span>
  <a id="Rezolver_ICovariantTypeIndex_GetKnownCompatibleTypes_" data-uid="Rezolver.ICovariantTypeIndex.GetKnownCompatibleTypes*"></a>
  <h4 id="Rezolver_ICovariantTypeIndex_GetKnownCompatibleTypes_System_Type_" data-uid="Rezolver.ICovariantTypeIndex.GetKnownCompatibleTypes(System.Type)">GetKnownCompatibleTypes(Type)</h4>
  <div class="markdown level1 summary"><p>This method returns the same types as <a class="xref" href="Rezolver.ICovariantTypeIndex.html#Rezolver_ICovariantTypeIndex_GetKnownCovariantTypes_System_Type_">GetKnownCovariantTypes(Type)</a> but also adds any other types which are
assignment compatible with the <code data-dev-comment-type="paramref" class="paramref">serviceType</code>.  This includes derived types or types which implement the
interface, or other generics which are covariantly compatible via implemented interfaces.</p>
<p>This method is suited for use when you are searching for targets for a covariant type parameter - such as looking for
targets which can be included in an IEnumerable&lt;T&gt; (which is exactly what Rezolver does for enumerables).</p>
<p>In this case, the order is most to least recent covariants, followed by most to least recent
derived types.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IEnumerable&lt;Type&gt; GetKnownCompatibleTypes(Type serviceType)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.type">Type</a></td>
        <td><span class="parametername">serviceType</span></td>
        <td><p>The type for which all assignment-compatible known types are sought.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Collections.Generic.IEnumerable</span>&lt;<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.type">Type</a>&gt;</td>
        <td><p>A non-null (possibly empty) enumerable of types which have been previously been added to the index
via a call to <a class="xref" href="Rezolver.ICovariantTypeIndex.html#Rezolver_ICovariantTypeIndex_AddKnownType_System_Type_">AddKnownType(Type)</a> and which are covariantly compatible with <code data-dev-comment-type="paramref" class="paramref">serviceType</code>
either directly or by inheritance.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/ZolutionSoftware/Rezolver/new/netcore21/apiSpec/new?filename=Rezolver_ICovariantTypeIndex_GetKnownCovariantTypes_System_Type_.md&amp;value=---%0Auid%3A%20Rezolver.ICovariantTypeIndex.GetKnownCovariantTypes(System.Type)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/ZolutionSoftware/Rezolver/blob/netcore21/src/Rezolver/ITypeIndex.cs/#L62">View Source</a>
  </span>
  <a id="Rezolver_ICovariantTypeIndex_GetKnownCovariantTypes_" data-uid="Rezolver.ICovariantTypeIndex.GetKnownCovariantTypes*"></a>
  <h4 id="Rezolver_ICovariantTypeIndex_GetKnownCovariantTypes_System_Type_" data-uid="Rezolver.ICovariantTypeIndex.GetKnownCovariantTypes(System.Type)">GetKnownCovariantTypes(Type)</h4>
  <div class="markdown level1 summary"><p>This method returns all types, in order of most to least recently added - that have been added via the
<a class="xref" href="Rezolver.ICovariantTypeIndex.html#Rezolver_ICovariantTypeIndex_AddKnownType_System_Type_">AddKnownType(Type)</a> method and which are of the same generic type but which have one or
more type arguments that are reference compatible to those in the passed <code data-dev-comment-type="paramref" class="paramref">serviceType</code>.
So, if you pass Func&lt;Base&gt; then you might get back Func&lt;Derived&gt;
if it has been added.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IEnumerable&lt;Type&gt; GetKnownCovariantTypes(Type serviceType)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.type">Type</a></td>
        <td><span class="parametername">serviceType</span></td>
        <td><p>The type for which covariantly compatible known types are sought.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Collections.Generic.IEnumerable</span>&lt;<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.type">Type</a>&gt;</td>
        <td><p>A non-null (possibly empty) enumerable of types which have been previously been added to the index
via a call to <a class="xref" href="Rezolver.ICovariantTypeIndex.html#Rezolver_ICovariantTypeIndex_AddKnownType_System_Type_">AddKnownType(Type)</a> and which are covariantly compatible with <code data-dev-comment-type="paramref" class="paramref">serviceType</code>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/ZolutionSoftware/Rezolver/new/netcore21/apiSpec/new?filename=Rezolver_ICovariantTypeIndex_SelectTypes_System_Type_.md&amp;value=---%0Auid%3A%20Rezolver.ICovariantTypeIndex.SelectTypes(System.Type)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/ZolutionSoftware/Rezolver/blob/netcore21/src/Rezolver/ITypeIndex.cs/#L80">View Source</a>
  </span>
  <a id="Rezolver_ICovariantTypeIndex_SelectTypes_" data-uid="Rezolver.ICovariantTypeIndex.SelectTypes*"></a>
  <h4 id="Rezolver_ICovariantTypeIndex_SelectTypes_System_Type_" data-uid="Rezolver.ICovariantTypeIndex.SelectTypes(System.Type)">SelectTypes(Type)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">TargetTypeSelector SelectTypes(Type type)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.type">Type</a></td>
        <td><span class="parametername">type</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Rezolver.TargetTypeSelector.html">TargetTypeSelector</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/ZolutionSoftware/Rezolver/new/netcore21/apiSpec/new?filename=Rezolver_ICovariantTypeIndex.md&amp;value=---%0Auid%3A%20Rezolver.ICovariantTypeIndex%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/ZolutionSoftware/Rezolver/blob/netcore21/src/Rezolver/ITypeIndex.cs/#L41" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright &copy;2014 onwards <a href="http://www.zolution.co.uk" target="_blank">Zolution Software Ltd</a><br>Generated by <a href="https://dotnet.github.io/docfx/" target="_blank">DocFX</a>, with the Rezolver theme</span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
